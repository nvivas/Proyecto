<!DOCTYOE html>
<html lang="es">
<head>
        <meta charset="UTF-8">
        <meta name="Ignacio">
        <title>Instalación y configuración de Ansible</title>
</head>
<body>
<h1><a id="Instalacin_y_Configuracin_de_Ansible_Centos_0"></a>Instalación y Configuración de Ansible (Centos)</h1>
<p>Intalar Ansible</p>
<pre><code>$ sudo -i
# yum install ansible
</code></pre>
<p>Editamos el archivo <code>/etc/ansible/hosts</code></p>
<pre><code># vi /etc/ansible/hosts
// añadimos las siguietes líneas. La 18 será la master, la 21 el nodo
[test]
192.168.3.18
192.168.3.21
</code></pre>
<p>Comprobamos que hay conectividad entre las máquinas</p>
<pre><code>$ ansible -m ping 'test'
            o
$ ansible -m ping all
</code></pre>
<p>Generamos las claves para poder acceder a la máquina nodo por ssh</p>
<pre><code># ssh-keygen
</code></pre>
<p>Copiamos la clave pública en el nodo (opción 1)</p>
<pre><code># ssh-copy-id -i ~/.ssh/id_rsa.pub root@192.168.3.21
</code></pre>
<p>Si no deja copiarlo con el comando anterior, también se puede copiar manualmente (opción 2)</p>
<pre><code>// abrimos el archivo id_rsa.pub de la máquina master y copiamos su contenido
# vi id_rsa.pub

// En la máquina nodo haremos
$ sudo -i
# cd .ssh
// lo siguiente es para cambiar el nombre del fichero y poder crear el archivo después
# mv authorized_keys authorized_keys.bak
# vi authorized_keys
// Pegamos el contenido del archivo id_rsa.pub y guardamos
</code></pre>
</body>
</html>
